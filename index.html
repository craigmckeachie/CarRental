<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Rental</title>
    <style>
        body {
            margin: 1.5em;
        }

        fieldset {
            margin-top: 1.5em;
            margin-bottom: 1.5em;
            padding: 1.5em;
        }
    </style>

</head>

<body>
    <h1>ACME Car Rental</h1>
    <form action="" onsubmit="estimateTotalCost();">
        <label for="pickup-date">Pickup date:</label>
        <input type="date" name="pickupDate" id="pickup-date">
        <label for="number-of-days">Number of days:</label>
        <input type="number" required name="numberOfDays" id="number-of-days">
        <fieldset>
            <legend>Rental Car Options</legend>
            <input type="checkbox" name="tollTag" id="toll-tag" value="tollTag">
            <label for="toll-tag">Electronic Toll Tag ($3.95/day plus tolls)</label>

            <input type="checkbox" name="gps" id="gps" value="gps">
            <label for="gps">GPS ($4.95/day)</label>

            <input type="checkbox" name="roadside" id="roadside" value="roadside">
            <label for="roadside">Roadside Assistance ($2.95/day)</label>
        </fieldset>
        <fieldset>
            <legend>Under 25</legend>
            <input type="radio" name="ynOption" id="yn-option" value="no">
            <label for="yn-option">No</label>
            <input type="radio" name="ynOption" id="yn-option" value="yes">
            <label for="yn-option">Yes</label>
        </fieldset>
        <button type="submit">Estimated Total Cost</button>
    </form>
    <table>
        <tbody>
            <tr>
                <td>Car Rental:</td>
                <td id="car-rental-cost">XX.XX</td>

            </tr>
            <tr>
                <td>Options:</td>
                <td id="options-cost">XX.XX</td>
            </tr>
            <tr>
                <td>Under 25 surcharge:</td>
                <td id="under25-cost">XX.XX</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td>Total:</td>
                <td id="total-cost">XX.XX</td>
            </tr>
        </tfoot>
    </table>
    <script>
        function estimateTotalCost() {
            let days = parseInt(document.getElementById("number-of-days").value);
            let tollTag = document.getElementById("toll-tag").checked;
            let gps = document.getElementById("gps").checked;
            let roadside = document.getElementById("roadside").checked;
            let ageSurchageSelectedOption = document.querySelector("input[name='ynOption']:checked");

            //calculate total
            let carRentalCost = 29.99 * days;
            let optionsCost = calculateOptionsCost(tollTag, gps, roadside, days);
            let ageSurcharge = 0;
            if (ageSurchageSelectedOption) {
                ageSurcharge = calculateAgeSurcharge(ageSurchageSelectedOption.value, carRentalCost);
            }
            let total = calculateTotal(carRentalCost, optionsCost, ageSurcharge);

            document.getElementById("car-rental-cost").innerText = carRentalCost;
            document.getElementById("options-cost").innerText = optionsCost;
            document.getElementById("under25-cost").innerText = ageSurcharge;
            document.getElementById("total-cost").innerText = total;
        }

        function calculateOptionsCost(tollTag, gps, roadside, days) {
            let optionsCost = 0;
            if (tollTag) {
                optionsCost += (3.95 * days);
            }
            if (gps) {
                optionsCost += (2.95 * days);
            }
            if (roadside) {
                optionsCost += (2.95 * days);
            }
            return optionsCost;
        }

        function calculateAgeSurcharge(ageSurchargeValue, carRentalCost) {
            let ageSurcharge = 0;
            if (ageSurchargeValue === "yes") {
                ageSurcharge = (carRentalCost * .3);
            }
            return ageSurcharge
        }

        function calculateTotal(carRentalCost, optionsCost, ageSurcharge) {
            return carRentalCost + optionsCost + ageSurcharge;
        }
    </script>
</body>


</html>